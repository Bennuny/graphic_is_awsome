## Rasterization.

### What`s after MVP?
- Model transformation (placing objects)
- View transformation (placing camera)
- Projection transformation
  - Orthographic projection (cuboid to "canonical" cube [-1, 1]^3)
  - Perspective projection (frustum to "canonical" cube)
- Canonical cube to ?

### Canonical Cube to Screen? ğŸ“
- What is screen?
  - An array of pixels. 1920*1080 (1080P) 1080*720(720P)
  - Size of the array: resolution
  - A typical kind of raster display
- Raster == screen in German
  - Rasterize == drawing onto the screen
- Pixel (FYI, short of "picture element")
  - For now: A pixel is a little square with uniform color
  - Color is a mixture of ( <font color='red'> red </font>, <font color='green'> green </font>, <font color='blue'> blue </font>) 

- Viewport transform matrix:
$$
M_{viewport} = 
\begin{pmatrix} 
\frac {width}{2} & 0 & 0 & \frac {width}{2} \\ 
0 & \frac {height}{2} & 0 & \frac {height}{2} \\
0 & 0 & 0 & 0 \\
0 & 0 & 0 & 1
\end{pmatrix}
$$

## Drawing Machines
- ç”µå­å¢¨æ°´ç“¶åˆ·æ–°ç”¨æ—¶æ¯”è¾ƒä¹…ï¼›


### Triangles - Fundamental Shape Primitives
Why triangles?
- Most basic polygon
  - Break up other polygons
- Unique properties
  - Guaranteed to be planar
  - Well-defined interior
  - Well-defined method for interpolating values at vertices over triangle (barycentric interpolation)


### What Pixel Values Approximate a Triangles?
åƒç´ çš„ä¸­å¿ƒç‚¹ä¸ä¸‰è§’å½¢çš„å…³ç³»ã€‚é‡‡æ ·ï¼šæŠŠä¸€ä¸ªå‡½æ•°ç¦»æ•£åŒ–çš„è¿‡ç¨‹ã€‚
Evaluating a function at a point is sampling.  
We can <font color='red'> discretize </font> a function by sampling.
```
discretize: ç¦»æ•£åŒ–
for (int x = 0; x < xmax; x++)
  output[x] = f(x)
```
Sampling is a core idea in grahpics.  
We sample time(1D), area(2D), direction(2D), volume(3D)...

### Rasterization = Sampling A 2D Indicator Function
```
for (int x = 0; x < xmax; ++x) 
 for (int y = 0; y < ymax; ++y) 
  image[x][y] = inside(tri, 
  x + 0.5, 
  y + 0.5); 
```
Inside? Recall: Three call Cross Products.


Checking All Pixels on the Screen?
- AABB (Bounding Box!)
- Incremental Triangle Traversal (Faster?)

çœ¼ç›å¯¹ç»¿è‰²æ›´æ•æ„Ÿ-

### Edge Cases (Literally)

### Antialiasing and Z-Buffering

- Antialiasing
  - Sampling theory
  - Antinliasing in practice
- Visibility / occlusion
  - Z-buffering
- Video = Sample Time (è§†é¢‘=æ—¶é—´é‡‡æ ·)
- Sampling Artifacts (Error / Mistakes / Inaccuracies) in Computer Graphics
  - Jaggies (Staircase Pattern) - sampling in space
  - Moire` Patterns in imaging (Skip odd rows and columns) - undersampling image
  - Wagon Wheel Illusion (False Motion) (äººçœ¼åœ¨æ—¶é—´ä¸­çš„é‡‡æ ·å‡ºç°é—®é¢˜) - sampling in time

- Behind the Aliasing Artifacts
  - Signals are changing too fast (high frequency), but sampled too slowly

1. Why undersampling introduces aliasing?
2. Why pre-filtering then sampling can do antialiasing?

- **Frequency Domain é¢‘åŸŸ**
- Fourier Transform (å‚…é‡Œå¶å˜æ¢ï¼Œç”¨sinå’Œcosä»£è¡¨ä¸€ä¸ªæ–¹ç¨‹å¼)
Represent a function as a weighted sum of sines and cosines

- Filtering = Getting rid of certain frequency contents
High-frequency signal is insufficiently sampled: samples erroneously appear to be from a low-frequency signal.
èµ°æ ·ï¼šåŒæ ·çš„é‡‡æ ·æ–¹æ³•ï¼Œé‡‡æ ·ä¸¤ç§ä¸åŒé¢‘ç‡çš„å‡½æ•°ï¼Œå¾—åˆ°ç»“æœä¸€æ ·ã€‚

Filtering = Getting rid of certain frequency contentsã€‚ï¼ˆå»æ‰ä¸€ç³»åˆ—çš„é¢‘ç‡ï¼‰
- High-pass filterï¼ˆå»æ‰ä½é¢‘ä¿¡æ¯ï¼Œä¿ç•™é«˜é¢‘ä¿¡æ¯ï¼‰ï¼ˆæ˜¾ç¤ºè¾¹ç•Œï¼‰ã€‚
- Low-pass filter ï¼ˆå»æ‰é«˜é¢‘ä¿¡æ¯ï¼Œä¿ç•™ä½é¢‘ä¿¡æ¯ï¼‰ï¼ˆæ¨¡ç³Šï¼‰ã€‚

Filtering = Convolution ( = Averaging)
æ»¤æ³¢ = å·ç§¯ = å¹³å‡
- æ—¶åŸŸçš„å·ç§¯ = é¢‘åŸŸçš„ä¹˜ç§¯
- Box Function = "Low Pass" Filter
- Sampling = Repeating Frequency Contents

How Can We Reduce Aliasing Error?
- Option 1: Increase sampling rate
  - Essentially

### MSAA Antialiasing By Supersampling (c)
- æ›´å¤šé‡‡æ ·ç‚¹ï¼Œè¿›è¡Œåèµ°æ ·
- No free launch
  - What`s the cost of MSAA?
- Milestones (personal idea)
  - FXAA (Fast Approximate AA)
  - TAA (Temporal AA) å¤ç”¨ä¸Šä¸€å¸§ï¼Œåˆ†å¸ƒåœ¨æ—¶é—´ä¸Š
- Super resolution / super sampling
  - From low resolution to hight resolution
  - Essentially still â€œnot enough samplesâ€ problem 
  - DLSS (Deep Learning Super Sampling)

***problem.***
1. ä¿¡å·å¤„ç†
2. é¢‘åŸŸ - ï¼ˆå¯¹é¢‘åŸŸé‡‡æ · - æ—¶åŸŸï¼Ÿï¼‰
3. æ—¶åŸŸ - ï¼ˆç©ºé—´ä¸Šä¸åŒä½ç½®ç®—æ—¶åŸŸï¼‰
4. å‚…é‡Œå¶å˜æ¢ä¸€å¼ å›¾ï¼Ÿä¸€å¼ å›¾çš„ä½é¢‘ã€é«˜é¢‘æ˜¯æŒ‡ä»€ä¹ˆä¿¡æ¯ï¼Ÿä¿¡å·å˜åŒ–

***æ¨èå­¦ä¹ èµ„æº.***
- Haveing Knowledge on Signal Processing is appreciated.
- ã€è¯¾ç¨‹ã€‘æ•°å­—å›¾åƒå¤„ç†ï¼Ÿç°åœ¨æ›´ç»å…¸é€šè¿‡æœºå™¨å­¦ä¹ 


# CAN`T UNDERSTADING 